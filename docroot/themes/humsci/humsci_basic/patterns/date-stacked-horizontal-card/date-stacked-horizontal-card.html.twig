{%
  set classes = [
    'hb-card',
    'hb-card--horizontal',
    'hb-card--horizontal-date-stacked'
  ]
%}

{%- set attributes = attributes.addClass(classes) -%}
{%- set url = url|render|striptags('<drupal-render-placeholder>')|trim -%}
{%- set has_image = image|render|striptags('<drupal-render-placeholder><img>')|trim -%}

<div{{ attributes }}>

  {% if image or month or day %}
    <div class="hb-card__graphics">

      {% if has_image is not empty %}
        <div class="hb-card__img">
          {{ image }}
        </div>
      {% endif %}

      {% if month or day %}
        <div class="hb-card__date-tile">
          {% if month %}
            <div class="hb-card__date-tile-month">{{ month }}</div>
          {% endif %}

          {% if day %}
            <div class="hb-card__date-tile-day">{{ day }}</div>
          {% endif %}
        </div>
      {% endif %}

    </div>
  {% endif %}

  <div class="hb-card__content">
    {% if category %}
      <div class="hb-card__category">{{ category }}</div>
    {% endif %}

    {% if title %}
      <div class="hb-card__title">
        {{ title }}
      </div>
    {% endif %}

    {% if time %}
      <div class="hb-card__subcontent">

        {% if time['#sources'] %}
          {% for field in time['#sources'] %}
            {% if field|render|striptags('<drupal-render-placeholder><a>')|trim  %}
              <div class="hb-card__subcontent-detail">
                {{ field }}
              </div>
            {% endif %}
          {% endfor %}
        {% else %}
          {% if time|render|striptags('<drupal-render-placeholder><a>')|trim  %}
            <div class="hb-card__subcontent-detail">
              {{ time }}
            </div>
          {% endif %}
        {% endif %}

        {% if location|render|striptags('<drupal-render-placeholder><a>')|trim %}
          <div class="hb-card__subcontent-detail">
            {{ location }}
          </div>
        {% endif %}

        {% if speaker|render|striptags('<drupal-render-placeholder><a>')|trim %}
          <div class="hb-card__subcontent-detail">
            {{ speaker }}
          </div>
        {% endif %}

      </div>
    {% endif %}

    {% if description %}
      <div class="hb-card__description">
        {{ description }}
      </div>
    {% endif %}

    {% if button %}
      <div class="hb-card__decorative-link">
        {{ button }}
      </div>
    {% endif %}

  </div>
</div>
