// This mixin could use some additional work to DRY up the code.
@mixin hb-icon-background($icon, $color) {
  @include hb-colorful {
    @if (map-has-key($hc-colorful-globals, $color)) {
      $icon-color: hb-get-global-color($color, $hc-colorful-globals);

      background-image: svg(hc-get-icons($icon, $icon-color));
    } @else {
      $icon-color: hb-get-pairing-color($color, $hb-colorful-default, $hc-colorful-pairings);
      background-image: svg(hc-get-icons($icon, $icon-color));

      .hc-pairing-ocean & {
        $icon-color: hb-get-pairing-color($color, 'ocean', $hc-colorful-pairings);
        background-image: svg(hc-get-icons($icon, $icon-color));
      }

      .hc-pairing-mountain & {
        $icon-color: hb-get-pairing-color($color, 'mountain', $hc-colorful-pairings);
        background-image: svg(hc-get-icons($icon, $icon-color));
      }

      .hc-pairing-sand & {
        $icon-color: hb-get-pairing-color($color, 'sand', $hc-colorful-pairings);
        background-image: svg(hc-get-icons($icon, $icon-color));
      }
    }
  }
}

// Used alongside the hb-link--inline mixin when an external icon is needed.
// And within the fa-ext class in block-layout.scss to add an external link icon.
@mixin hb-external-link-icon {
  margin-right: hb-calculate-rems(2px);

  @include hb-colorful {
    position: relative;

    &::after {
      content: '';
      @include hb-icon-background('ext-link', 'tertiary');
      @include hb-global-color('background-color', 'white');
      display: inline-block;
      position: relative;
      background-position: center right;
      background-repeat: no-repeat;
      background-size: hb-calculate-rems(11px);
      height: hb-calculate-rems(20px);
      width: hb-calculate-rems(11px);
      margin-bottom: hb-calculate-rems(-5px);
      padding-left: hb-calculate-rems(15px);
    }

    &:hover::after,
    &:focus::after {
      @include hb-icon-background('ext-link', 'primary');
    }

    .hb-local-footer--dark & {
      &::after {
        @include hb-icon-background('ext-link', 'tertiary-reversed');
      }

      &:hover::after,
      &:focus::after {
        @include hb-icon-background('ext-link', 'tertiary-highlight');
      }
    }
  }
}

// Return a specific color of the fa-ext icon
@mixin hb-ext-icon-color($color) {
  .fa-ext::after {
    @include hb-icon-background('ext-link', $color);
    background-repeat: no-repeat;
    background-position: center right;
  }
}

@mixin hb-icon-link-arrow($color: 'black') {
  @include hb-icon-background('arrow-right', $color);
  background-repeat: no-repeat;
  background-position: left;
  background-size: 55%;
}
