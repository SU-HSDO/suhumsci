// This mixin could use some additional work to DRY up the code.
@mixin hb-icon-background($icon, $color) {
  @include hb-colorful {
    @if (map-has-key($hc-colorful-globals, $color)) {
      $icon-color: hb-get-global-color($color, $hc-colorful-globals);

      background-image: svg(hc-get-icons($icon, $icon-color));
    } @else {
      $icon-color: hb-get-pairing-color($color, $hb-colorful-default, $hc-colorful-pairings);
      background-image: svg(hc-get-icons($icon, $icon-color));

      .hc-pairing-ocean & {
        $icon-color: hb-get-pairing-color($color, 'ocean', $hc-colorful-pairings);
        background-image: svg(hc-get-icons($icon, $icon-color));
      }

      .hc-pairing-mountain & {
        $icon-color: hb-get-pairing-color($color, 'mountain', $hc-colorful-pairings);
        background-image: svg(hc-get-icons($icon, $icon-color));
      }

      .hc-pairing-sand & {
        $icon-color: hb-get-pairing-color($color, 'sand', $hc-colorful-pairings);
        background-image: svg(hc-get-icons($icon, $icon-color));
      }
    }
  }
}

// Used with the hs-external-link and fa-ext classes to add an external link icon
@mixin hb-external-link-icon { // TODO: add two variables for color and hover states
  margin-right: hb-calculate-rems(20px);

  @include hb-colorful {
    position: relative;

    &::after { // TODO: Refactor hb-pill external link once Kasey's QA work has been merged.
      content: '';
      @include hb-icon-background('ext-link', 'tertiary');
      background-position: center;
      background-repeat: no-repeat;
      height: hb-calculate-rems(11px);
      width: hb-calculate-rems(11px);
      position: absolute;
      bottom: hb-calculate-rems(3px);
      margin-left: hb-calculate-rems(4px);
    }

    &:hover::after,
    &:focus::after {
      @include hb-icon-background('ext-link', 'primary');
    }

    .hb-local-footer--dark & {
      &::after {
        @include hb-icon-background('ext-link', 'tertiary-reversed');
      }

      &:hover::after,
      &:focus::after {
        @include hb-icon-background('ext-link', 'tertiary-highlight');
      }
    }
  }
}

@mixin hb-icon-link-arrow($color: 'black') {
  @include hb-icon-background('arrow-right', $color);
  background-repeat: no-repeat;
  background-position: left;
  background-size: 55%;
}
