// This mixin could use some additional work to DRY up the code.
@mixin hb-icon-background($icon, $color) {
  @include hb-colorful {
    @if (map-has-key($hc-colorful-globals, $color)) {
      $icon-color: hb-get-global-color($color, $hc-colorful-globals);

      background-image: svg(hc-get-icons($icon, $icon-color));
    } @else {
      $icon-color: hb-get-pairing-color($color, $hb-colorful-default, $hc-colorful-pairings);
      background-image: svg(hc-get-icons($icon, $icon-color));

      .hc-pairing-ocean & {
        $icon-color: hb-get-pairing-color($color, 'ocean', $hc-colorful-pairings);
        background-image: svg(hc-get-icons($icon, $icon-color));
      }

      .hc-pairing-mountain & {
        $icon-color: hb-get-pairing-color($color, 'mountain', $hc-colorful-pairings);
        background-image: svg(hc-get-icons($icon, $icon-color));
      }

      .hc-pairing-sand & {
        $icon-color: hb-get-pairing-color($color, 'sand', $hc-colorful-pairings);
        background-image: svg(hc-get-icons($icon, $icon-color));
      }
    }
  }
}

// Used with the decanter-external-link class to add an external link icon
@mixin hb-external-link-icon {
  margin-right: hb-calculate-rems(20px);

  @include hb-colorful {
    position: relative;

    &::before {
      content: '';
      @include hb-icon-background('ext-link', 'tertiary');
      background-position: center;
      background-repeat: no-repeat;
      height: hb-calculate-rems(11px);
      width: hb-calculate-rems(11px);
      display: inline-block;
      vertical-align: middle;
      position: absolute;
      top: hb-calculate-rems(4px);
      right: hb-calculate-rems(-18px);
    }

    &:hover::before,
    &:focus::before {
      @include hb-icon-background('ext-link', 'primary');
    }

    .hb-local-footer--dark & {
      &::before {
        @include hb-icon-background('ext-link', 'tertiary-reversed');
      }

      &:hover::before,
      &:focus::before {
        @include hb-icon-background('ext-link', 'tertiary-highlight');
      }
    }
  }
}

@mixin hb-icon-link-arrow($color: 'black') {
  @include hb-icon-background('arrow-right', $color);
  background-repeat: no-repeat;
  background-position: left;
  background-size: 55%;
}
